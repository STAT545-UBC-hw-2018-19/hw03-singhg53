hw03.Rmd
================
Gurjot Singh
01/10/2018

# Homework 3 - singhg53

Hello and welcome to my Rmd file for homework \#3. Today we will be
exploring the `tidyverse` package, specifically `ggplot2` and `dplyr`
packages using the `gapminder` dataset.

First lets load the dataset, `gapminder` and the `tidyverse` package
which has `dplyr` the data manipulation tool and `ggplot2` the data
visualization tool.

``` r
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(gapminder))
```

Now let’s analyze some data.

# Task 1

## Get the maximum and minimum of GDP per capita for all continents.

First lets assign the minimum and maximum GDP per capita, grouped by
continents, to variable `GDPcont`.

``` r
GDPcont <- gapminder %>%
  group_by(continent) %>%
  summarize(min = min(gdpPercap), max = max(gdpPercap))

knitr::kable(GDPcont)
```

| continent |        min |       max |
| :-------- | ---------: | --------: |
| Africa    |   241.1659 |  21951.21 |
| Americas  |  1201.6372 |  42951.65 |
| Asia      |   331.0000 | 113523.13 |
| Europe    |   973.5332 |  49357.19 |
| Oceania   | 10039.5956 |  34435.37 |

Now let’s create some plots. For the first plot we will look at the
minimum GDP per capita for each continent.

``` r
ggplot(GDPcont, aes(continent, min)) + 
  geom_bar(stat = "identity", color = "red", fill = "red") + 
  scale_y_log10() +
  ggtitle("Minimum GDP per Capita for Each Continent") + 
  ylab("Minimum GDP per Capita") +
  xlab("Continent")
```

![](hw03_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->

We can do the same for the maximum GDP per capita values for each
continent

``` r
ggplot(GDPcont, aes(continent, max)) + 
  geom_bar(stat = "identity", color = "green", fill = "green") + 
  ggtitle("Maximum GDP per Capita for Each Continent") + 
  ylab("Maximum GDP per Capita") +
  xlab("Continent")
```

![](hw03_files/figure-gfm/unnamed-chunk-4-1.png)<!-- -->

QUESTION: HOW TO PLOT THEM TOGETHER

# Task 2

## Look at the spread of GDP per capita within the continents.

``` r
ggplot(gapminder, aes(continent, gdpPercap, fill=continent)) + 
  scale_y_log10() +
  geom_violin() +
  geom_boxplot() +
  geom_jitter(alpha=0.1) +
  labs(title="Violin Plot of GDP per Capita for Each Continent") +
  ylab("GDP per Capita") +
  xlab("Continent")
```

![](hw03_files/figure-gfm/unnamed-chunk-5-1.png)<!-- -->

# Task 3

## Compute a trimmed mean of life expectancy for different years. Or a weighted mean, weighting by population.

``` r
trimmed_mean <- gapminder %>% group_by(year) %>% summarize("Untrimmed Mean LifeExp" = mean(lifeExp), TrimmedMeanLifExp = mean(lifeExp,trim = 0.125)) %>% arrange(year)

trimmed_mean
```

    ## # A tibble: 12 x 3
    ##     year `Untrimmed Mean LifeExp` TrimmedMeanLifExp
    ##    <int>                    <dbl>             <dbl>
    ##  1  1952                     49.1              48.4
    ##  2  1957                     51.5              51.2
    ##  3  1962                     53.6              53.5
    ##  4  1967                     55.7              55.8
    ##  5  1972                     57.6              58.0
    ##  6  1977                     59.6              60.2
    ##  7  1982                     61.5              62.2
    ##  8  1987                     63.2              64.1
    ##  9  1992                     64.2              65.3
    ## 10  1997                     65.0              66.2
    ## 11  2002                     65.7              66.9
    ## 12  2007                     67.0              68.3

trimming by 12.5% would discard the minimum and maximum value in the
sample

``` r
ggplot(trimmed_mean, aes(year, TrimmedMeanLifExp)) +
  geom_point(colour = "blue") +
  geom_smooth(colour = "light blue")
```

    ## `geom_smooth()` using method = 'loess' and formula 'y ~ x'

![](hw03_files/figure-gfm/unnamed-chunk-7-1.png)<!-- -->

weighted mean, weighting by
population

``` r
weightedmean_lifeExp <- gapminder %>% group_by(year) %>% summarize("Mean" = mean(lifeExp), weightedmean = weighted.mean(lifeExp, pop))

weightedmean_lifeExp
```

    ## # A tibble: 12 x 3
    ##     year  Mean weightedmean
    ##    <int> <dbl>        <dbl>
    ##  1  1952  49.1         48.9
    ##  2  1957  51.5         52.1
    ##  3  1962  53.6         52.3
    ##  4  1967  55.7         57.0
    ##  5  1972  57.6         59.5
    ##  6  1977  59.6         61.2
    ##  7  1982  61.5         62.9
    ##  8  1987  63.2         64.4
    ##  9  1992  64.2         65.6
    ## 10  1997  65.0         66.8
    ## 11  2002  65.7         67.8
    ## 12  2007  67.0         68.9

Combining
everything

``` r
combineddata <- gapminder %>% group_by(year) %>% summarize( Mean = mean(lifeExp), weightedmean = weighted.mean(lifeExp, pop), TrimmedMeanLifExp = mean(lifeExp,trim = 0.125))

combineddata
```

    ## # A tibble: 12 x 4
    ##     year  Mean weightedmean TrimmedMeanLifExp
    ##    <int> <dbl>        <dbl>             <dbl>
    ##  1  1952  49.1         48.9              48.4
    ##  2  1957  51.5         52.1              51.2
    ##  3  1962  53.6         52.3              53.5
    ##  4  1967  55.7         57.0              55.8
    ##  5  1972  57.6         59.5              58.0
    ##  6  1977  59.6         61.2              60.2
    ##  7  1982  61.5         62.9              62.2
    ##  8  1987  63.2         64.4              64.1
    ##  9  1992  64.2         65.6              65.3
    ## 10  1997  65.0         66.8              66.2
    ## 11  2002  65.7         67.8              66.9
    ## 12  2007  67.0         68.9              68.3

``` r
combineddata %>% 
  ggplot(aes(year)) +
  geom_line(aes(y = weightedmean, colour = "Weighted Mean")) +
  geom_line(aes(y = TrimmedMeanLifExp, colour = "Trimmed Mean LifExp")) +
  geom_line(aes(y = Mean, colour = "Mean")) +
  ylab("Life Expectancy") +
  xlab("Year") +
  ggtitle("Mean LifeExp, Trimmed Mean LifeExp, and Weighted Mean LifeExp vs. Year")
```

![](hw03_files/figure-gfm/unnamed-chunk-10-1.png)<!-- -->

# Task 4

## How is life expectancy changing over time on different continents?
